@mixin addtextshadow($xstep,$ystep,$color1,$color2,$steps){
	$s:"";
	@for $i from 0 through $steps{
		$x: ( $xstep + ( $xstep * $i ));
		$y: ( $ystep + ( $ystep * $i ));
		$r: red($color1) + ((( red($color2) - red($color1) ) / $steps) * $i);
		$g: green($color1) + ((( green($color2) - green($color1) ) / $steps) * $i);
		$b: blue($color1) + ((( blue($color2) - blue($color1) ) / $steps) * $i);
		$a: alpha($color1) + ((( alpha($color2) - alpha($color1) ) / $steps) * $i);

		$t: $x+" "+$y+" rgba("+$r+","+$g+","+$b+","+$a+")";

		@if $i == $steps {
			$s: $s + $t +";"
		}@else {
			$s: $s + $t +", "
		}
	}
	text-shadow: #{$s};
}

#marquee{
	background: $marquee-background;
	padding-top: 0;
	position: relative;
	overflow:hidden;
	//display: none;

	.slideshow{
		position: relative;
		width:100%;
		padding-top: $marquee-ratio;

		.fixed{
			position: fixed;
			top:0;
			z-index: 0;
			width: ($max-page-width - 2);
			left:50%;
			margin-left:($max-page-width - 2)/-2;
			height: ($max-page-width - 2) * 9/16;

			@media screen and (max-width : $window-break) {
				width:100%;
				left:0;
				margin-left: 0;
			}

			.wrapper{
				position: relative;
				width: 100%;
				padding-top: $marquee-ratio;

				.videoplayer{
					position: absolute;
					width: 100%;
					height: 100%;
					top:0;
					left:0;

					.video-js{
						width: 100%;
						padding-top: $marquee-ratio;
					}

					.vjs-fullscreen {
						padding-top: 0px
					}

					.vjs-poster{
						background-size: cover;
					}
				}
			}
		}

		.header{
			position: absolute;
			width: 100%;
			height:100%;
			z-index: 2;
			top:0;
			left:0;

			@include background-image(radial-gradient(500px 300px, rgba(0,0,0,.3) 10px, rgba(0,0,0,0) 500px));


			h1{
				margin-top: 30%;
				text-transform: uppercase;
				font-weight: 700;

				.first{
					font-weight: 100;
					display: block;
					letter-spacing: 1;
				}


				.first, .last{
					span{
						position: relative;
						display: inline-block;

						&.space1{
							letter-spacing: 2px;
						}

						&.space2{
							letter-spacing: 8px;
						}
						
					}
				}

				&.superShadow{
					text-shadow:
					// 				0 0 1px rgba(0,0,0,.5),
									0 0 10px rgba(0,0,0,.5);
				}
			}
		}

		.mask{
			height: 100.1%;
			position: absolute;
			width:100.2%;
			z-index: 2;
			top:0;
			left:-.5px;
			background: url(#{$imgPath}marquee.svg) top left no-repeat;
			background-size: cover;
		}

		.gradient{
			height: 100%;
			position: absolute;
			width:100%;
			z-index: 1;
			top:0;
			left:0;
			@include background-image(linear-gradient(rgba(0,0,0,0) 40%, rgba(0,0,0,.9) 100%));
		}

		.item-list{
			height:100%;
			position: absolute;
			width:100%;
			top:0;
			z-index: 2;

			.title{
				position: absolute;
				bottom: $marquee-project-bottom + $marquee-project-height;
				color: $marquee-view-color;
				width: 100%;
				text-align: center;
			}

			.item{
				height:$marquee-project-height;
				position: absolute;
				width:100%;
				bottom:$marquee-project-bottom;
				background-position: center center;
				background-size: cover;
				overflow:hidden;
				cursor: pointer;

				h3{
					color: $marquee-text;
					text-transform: uppercase;
					text-align: center;
					letter-spacing: 1.2px;
					font-size: 18px;
					position: relative;
					top:0;

				}

				.ta{
					height: 35px;
					background-size: contain;
					background-position: center center;
					background-repeat: no-repeat;
				}

				&.marquee-enter {
					@include transition-property(opacity,bottom);
					@include transition-duration(.5s);
					opacity: 0;
					bottom: -1*$marquee-project-height;

					h3{
						top: 20px;
						
						@include transition-property(top);
						@include transition-duration(.25s);
						@include transition-delay(.25s);
					}
				}

				&.marquee-enter.marquee-enter-active {
					opacity: 1;
					bottom: $marquee-project-bottom;

					h3{
						top: 0px;
					}
				}

				&.marquee-leave {
					@include transition-property(opacity,bottom);
					@include transition-duration(0.5s);

					opacity: 1;
					bottom: $marquee-project-bottom;

					h3{
						top: 0px;
						
						@include transition-property(top);
						@include transition-duration(.25s);
					}
				}

				&.marquee-leave.marquee-leave-active {
					opacity: 0;
					bottom: -1*$marquee-project-height;

					h3{
						top: 20px;
					}
				}

				&:hover{
					h3{
						color: $marquee-text-hover;

					}
				}
			}
		}

	}	
}

